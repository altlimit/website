<!DOCTYPE html>
<html>

<head>
    

<meta charset="utf-8">
<title> Contact - Altlimit LLC</title>
<meta name="description" content="">
<meta name="viewport" content="width=device-width, initial-scale=1.0, maximum-scale=1.0" />
<link rel="stylesheet" href="/css/styles.css">
<script defer src="https://unpkg.com/alpinejs@3.10.2/dist/cdn.min.js"></script>

<script src="https://www.google.com/recaptcha/api.js" defer></script>
<script>
    function createCORSRequest(method, url) {
        let xhr = new XMLHttpRequest();
        if ("withCredentials" in xhr) {
            xhr.open(method, url, true);
        } else if (typeof XDomainRequest != "undefined") {
            xhr = new XDomainRequest();
            xhr.open(method, url);
        } else {
            xhr = null;
        }
        return xhr;
    }

    function contact() {
        return {
            isReady: false,
            data: {
                email: "",
                message: ""
            },
            error: null,
            success: false,
            sending: false,
            dataSize: function() {
                if (/Android|webOS|iPhone|iPad|iPod|BlackBerry|IEMobile|Opera Mini/i.test(navigator
                        .userAgent)) {
                    return "compact";
                } else {
                    return "normal";
                }
            },
            onSubmit: function() {
                this.error = null;
                let captchaResp = "";
                try {
                    captchaResp = grecaptcha.getResponse();
                } catch (e) {
                    location.reload();
                }
                if (captchaResp.length) {
                    if (!this.data.email) {
                        this.error = "Email is empty";
                    } else if (!this.data.message) {
                        this.error = "Message is empty";
                    } else if (!this.sending) {
                        this.sending = true;
                        this.sendData({
                            "g-recaptcha": captchaResp,
                            "personalizations": [{
                                "to": [{
                                    "email": "support@altlimit.com"
                                }],
                            }],
                            "subject": "Altlimit LLC Contact",
                            "reply_to": {
                                "email": this.data.email
                            },
                            "from": {
                                "email": "support@altlimit.com"
                            },
                            "content": [{
                                "type": "text/plain",
                                "value": this.data.message
                            }]
                        });
                    }
                } else {
                    this.error = "Please check I'm not a robot.";
                }
            },
            sendData: function(data) {
                const xhr = createCORSRequest('POST', 'https://us-central1-altlimit-live.cloudfunctions.net/SendEmail');
                if (!xhr) {
                    this.error = "An error has occurred."
                    return;
                }

                xhr.setRequestHeader('Content-Type', 'application/json');

                xhr.onreadystatechange = function (oEvent) {
                    if (xhr.readyState === 4) {
                        this.sending = false;
                        const result = JSON.parse(xhr.responseText);
                        if (result.error) {
                            this.error = result.error;
                        } else {
                            this.success = true;
                        }

                    }
                }.bind(this);

                xhr.send(JSON.stringify(data));
            }
        }
    }
</script>


    <script>
        function menu() {
            return {
                viewMenu: false,
                isActive: function (link) {
                    return location.pathname == (link === "/" ? link : link + "/")
                }
            }
        }
    </script>
</head>

<body>
    <div class="container mx-auto px-8 py-4">
        <header class="flex flex-col sm:flex-row items-center justify-between py-6 relative" x-data="menu()">
            <h3 class="text-gray-700 text-center">
                <a href="/"><img src="/logo.png" class="mb-1" alt="Altlimit LLC logo" /></a>
            </h3>
            <nav class="md:flex text-lg" x-bind:class="{'flex flex-wrap': viewMenu, 'hidden': !viewMenu}"
                x-cloak>
                
                
                <a href="/"
                    x-bind:class="{'w-full': viewMenu, 'active':isActive('/')}">Home</a>
                
                <a href="/work"
                    x-bind:class="{'w-full': viewMenu, 'active':isActive('/work')}">Our Solutions</a>
                
                <a href="/pricing"
                    x-bind:class="{'w-full': viewMenu, 'active':isActive('/pricing')}">Pricing</a>
                
                <a href="/company"
                    x-bind:class="{'w-full': viewMenu, 'active':isActive('/company')}">Company</a>
                
                <a href="/contact"
                    x-bind:class="{'w-full': viewMenu, 'active':isActive('/contact')}">Contact</a>
                
            </nav>
            <button class="flex md:hidden flex-col absolute top-0 right-0 p-4 mt-5"
                x-on:click="viewMenu = !viewMenu">
                <span class="w-5 h-px mb-1 bg-red-500"></span>
                <span class="w-5 h-px mb-1 bg-red-500"></span>
                <span class="w-5 h-px mb-1 bg-red-500"></span>
            </button>
        </header>
        

<main x-data="contact()">
    <div class="banner" style="background-image:url('/img/contact.jpg')">
        <div class="backdrop"></div>
        <div class="pitch">
            <h1 class="title">Contact Us
                <span class="subtitle">And Discover</span></h1>
            <p>Alternative to Limitations</p>
        </div>
    </div>
    <div class="overview">
        <h1 class="title">
            Tell Us About Your Project
        </h1>
        <p>Our team at Altlimit is committed to providing you the responsive web application you need on your project.
            Help us learn about your project so that we can tailor a custom approach for you. To get started, please fill up
            the form below and provide as much information as possible.
        </p>
    </div>
    <template x-if="success">
        <div class="notification success" x-cloak>
            <h2 class="title">Thank you!</h2>
            <p>Your message has been successfully sent. We will contact you very soon!</p>
        </div>
    </template>
    <template x-if="!success">
        <div class="workspace">
            
            <div class="sidebar">
                <article>
                    <h2 class="title">Consulting</h2>
                    <p>We will help you decide the best approach on how to solve business problems with the right technology.</p>
                </article>
                <article>
                    <h2 class="title">Development</h2>
                    <p>We will work with you throughout the project for a smooth development process.</p>
                </article>
                <article>
                    <h2 class="title">Implement</h2>
                    <p>Already have a design? We'll take it and develop it for you.</p>
                </article>
                <article>
                    <h2 class="title">Support</h2>
                    <p>We provide support of any size. Even the smallest tasks get handled efficiently.</p>
                </article>
            </div>


            <div class="main" style="background-color:rgba(256,256,256,0.6)">
                <div class="container">
                    <form class="form" x-on:submit.prevent="onSubmit">

                        <div class="field">
                            <label for="email">
                                E-mail
                            </label>
                            <input id="email" type="email" x-model="data.email"/>
                        </div>
                        <div class="field">
                            <label for="description">
                                Describe your project
                            </label>
                            <textarea x-model="data.description" rows="5"
                                id="description"></textarea>
                        </div>

                        <div class="field">
                            <label for="message">
                                Message
                            </label>
                            <textarea x-model="data.message" rows="5"
                                id="message"></textarea>
                        </div>
                        <div class="field">
                            <div class="g-recaptcha" :data-size="dataSize()"
                                data-sitekey="6LdiTuASAAAAANRzW8mthTJWdBzfYXxARuhQ6AY_">
                            </div>
                        </div>
                        <template x-if="error">
                            <div class="field">
                                <p class="text-danger" x-text="error"></p>
                            </div>
                        </template>
                        <button :disabled="sending"
                                    class="button primary"
                                    type="submit" x-text="'Send' + (sending ? 'ing' : '')">dsf
                                </button>
                    </form>
                </div>
            </div>
        </div>
    </template>
</main>

    </div>
    <footer class="footer">
        <div class="container bg-primary">
            &copy; Altlimit LLC 2022
        </div>
    </footer>
</body>

</html>